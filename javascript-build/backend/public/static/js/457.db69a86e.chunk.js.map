{"version":3,"file":"static/js/457.db69a86e.chunk.js","mappings":"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","sources":["shared/components/UIElements/Map/Map.js","places/components/PlaceItem.js","places/components/PlaceList.js","places/pages/UserPlaces.js","shared/components/UIElements/Card/Card.js","shared/components/UIElements/ErrorModal/ErrorModal.js","shared/components/UIElements/Modal/Modal.js","shared/hooks/http-hook.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\n\r\nimport './Map.css'\r\n\r\nconst Map = (props) => {\r\n  const mapRef = useRef();\r\n  const {center, zoom} = props\r\n  useEffect(() => {\r\n    const map = new window.google.maps.Map(mapRef.current, {\r\n      center: center,\r\n      zoom: zoom,\r\n    });\r\n\r\n    new window.google.maps.Marker({ position: center, map: map });\r\n  }, [center, zoom]);\r\n\r\n  return (\r\n    <div\r\n      className={`map ${props.className}`}\r\n      style={props.style}\r\n      ref={mapRef}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Map;\r\n","import React, { useContext, useState } from 'react';\r\nimport Button from '../../shared/components/FormElements/Button/Button';\r\nimport Card from '../../shared/components/UIElements/Card/Card';\r\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal/ErrorModal';\r\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner/LoadingSpinner';\r\nimport Map from '../../shared/components/UIElements/Map/Map';\r\nimport Modal from '../../shared/components/UIElements/Modal/Modal';\r\nimport useHttp from '../../shared/hooks/http-hook';\r\nimport AuthContext from '../../store/auth-context';\r\nimport './PlaceItem.css';\r\n\r\nconst PlaceItem = (props) => {\r\n  const authCtx = useContext(AuthContext);\r\n  const [showMap, setShowMap] = useState(false);\r\n  const [showDelete, setShowDelete] = useState(false);\r\n  const openMapHandler = () => setShowMap(true);\r\n  const closeMapHandler = () => setShowMap(false);\r\n  const cancelDeleteHandler = () => setShowDelete(false);\r\n  const showDeleteHandler = () => setShowDelete(true);\r\n\r\n  const { isLoading, error, sendRequest, resetError } = useHttp();\r\n  const deletePlaceHandler = async () => {\r\n    cancelDeleteHandler();\r\n    const response = await sendRequest(\r\n      `${process.env.REACT_APP_BACKEND_URL}/places/${props.id}`,\r\n      'DELETE',\r\n      null,\r\n      {\r\n        Authorization: 'Bearer ' + authCtx.token,\r\n      }\r\n    );\r\n\r\n    if (!response.error) {\r\n      props.onDeletePlace(response.place.id);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <Modal\r\n        show={showMap}\r\n        onCancel={closeMapHandler}\r\n        header={props.address}\r\n        contentClass='place-item__modal-content'\r\n        footerClass='place-item__modal-actions'\r\n        footer={<Button onClick={closeMapHandler}>CLOSE</Button>}\r\n      >\r\n        <div className='map-container'>\r\n          <Map center={props.coordinates} zoom={16}></Map>\r\n        </div>\r\n      </Modal>\r\n      <Modal\r\n        show={showDelete}\r\n        onCancel={cancelDeleteHandler}\r\n        header='Are you sure?'\r\n        contentClass='place-item__modal-content'\r\n        footerClass='place-item__modal-actions'\r\n        footer={\r\n          <>\r\n            <Button onClick={cancelDeleteHandler}>CANCEL</Button>\r\n            <Button danger onClick={deletePlaceHandler}>\r\n              CONFIRM\r\n            </Button>\r\n          </>\r\n        }\r\n      >\r\n        <p>Once deleted, changes cannot be undone.</p>\r\n      </Modal>\r\n      <ErrorModal error={error} onClear={resetError} />\r\n      <li className='place-item'>\r\n        <Card className='place-item__content'>\r\n          {isLoading && <LoadingSpinner asOverlay />}\r\n          <div className='place-item__image'>\r\n            <img\r\n              src={process.env.REACT_APP_ASSET_URL + props.image}\r\n              alt={props.title}\r\n            />\r\n          </div>\r\n          <div className='place-item__info'>\r\n            <h2>{props.title}</h2>\r\n            <h3>{props.address}</h3>\r\n            <p>{props.description}</p>\r\n          </div>\r\n          <div className='place-item__actions'>\r\n            <Button inverse onClick={openMapHandler}>\r\n              VIEW ON MAP\r\n            </Button>\r\n            {authCtx.userId === props.creatorId && (\r\n              <Button to={`/places/${props.id}`}>EDIT</Button>\r\n            )}\r\n            {authCtx.userId === props.creatorId && (\r\n              <Button danger onClick={showDeleteHandler}>\r\n                DELETE\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </Card>\r\n      </li>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PlaceItem;\r\n","import React from 'react';\r\nimport Button from '../../shared/components/FormElements/Button/Button';\r\nimport Card from '../../shared/components/UIElements/Card/Card';\r\nimport PlaceItem from './PlaceItem';\r\n\r\nimport './PlaceList.css';\r\nconst PlaceList = ({ items, onDeletePlace }) => {\r\n  if (items.length === 0) {\r\n    return (\r\n      <div className='place-list center'>\r\n        <Card>\r\n          <h2>No Places Found. Maybe Create one?</h2>\r\n          <Button to='/places/new'>Share Place</Button>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <ul className='place-list'>\r\n      {items.map((place) => (\r\n        <PlaceItem\r\n          key={place.id}\r\n          id={place.id}\r\n          image={place.imageUrl}\r\n          title={place.title}\r\n          description={place.description}\r\n          address={place.address}\r\n          creatorId={place.creator}\r\n          coordinates={place.location}\r\n          onDeletePlace={onDeletePlace}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default PlaceList;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PlaceList from '../components/PlaceList';\r\nimport { useParams } from 'react-router-dom';\r\nimport useHttp from '../../shared/hooks/http-hook';\r\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner/LoadingSpinner';\r\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal/ErrorModal';\r\n\r\nconst UserPlaces = () => {\r\n  const userId = useParams().userId;\r\n  const [places, setPlaces] = useState([]);\r\n  const { isLoading, error, sendRequest, resetError } = useHttp();\r\n  useEffect(() => {\r\n    sendRequest(\r\n      `${process.env.REACT_APP_BACKEND_URL}/places/user/${userId}`\r\n    ).then((response) => setPlaces(response.places));\r\n  }, [sendRequest, userId]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className='center'>\r\n        <LoadingSpinner />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const placeDeletedHandler = (id) => {\r\n    setPlaces((curr) => curr.filter((place) => place.id !== id));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ErrorModal error={error} onClear={resetError} />\r\n      {!isLoading && places && (\r\n        <PlaceList items={places} onDeletePlace={placeDeletedHandler} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserPlaces;\r\n","import React from 'react';\n\nimport './Card.css';\n\nconst Card = props => {\n  return (\n    <div className={`card ${props.className}`} style={props.style}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default Card;\n","import React from 'react';\n\nimport Modal from '../Modal/Modal';\nimport Button from '../../FormElements/Button/Button';\n\nconst ErrorModal = (props) => {\n  return (\n    <Modal\n      onCancel={props.onClear}\n      header='An Error Occurred!'\n      show={!!props.error}\n      footer={<Button onClick={props.onClear}>Okay</Button>}\n    >\n      <p>{props.error}</p>\n    </Modal>\n  );\n};\n\nexport default ErrorModal;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Backdrop from '../Backdrop/Backdrop';\r\nimport { CSSTransition } from 'react-transition-group';\r\n\r\nimport './Modal.css'\r\n\r\nconst ModalOverlay = (props) => {\r\n  const content = (\r\n    <div className={`modal ${props.className}`} style={props.style}>\r\n      <header className={`modal__header ${props.headerClass}`}>\r\n        <h2>{props.header}</h2>\r\n      </header>\r\n      <form\r\n        onSubmit={props.onSubmit ? props.onSubmit : (e) => e.preventDefault()}\r\n      >\r\n        <div className={`modal__content ${props.contentClass}`}>\r\n          {props.children}\r\n        </div>\r\n        <footer className={`modal__footer ${props.footerClass}`}>\r\n          {props.footer}\r\n        </footer>\r\n      </form>\r\n    </div>\r\n  );\r\n  return ReactDOM.createPortal(content, document.querySelector('#modal'));\r\n};\r\n\r\nconst Modal = (props) => {\r\n  return (\r\n    <>\r\n      {props.show && <Backdrop onClick={props.onCancel} />}\r\n      <CSSTransition\r\n        in={props.show}\r\n        mountOnEnter\r\n        unmountOnExit\r\n        timeout={200}\r\n        classNames='modal'\r\n        children={<ModalOverlay {...props} />}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import axios from 'axios';\r\nimport { useCallback, useRef, useState, useEffect } from 'react';\r\n\r\nconst useHttp = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const activeHttpRequests = useRef([]);\r\n\r\n  const sendRequest = useCallback(\r\n    async (url, method = 'GET', data = null, headers = {}) => {\r\n      setIsLoading(true);\r\n      const httpAbortCtrll = new AbortController();\r\n      activeHttpRequests.current.push(httpAbortCtrll);\r\n      try {\r\n        const response = await axios({\r\n          method: method,\r\n          url: url,\r\n          data: data,\r\n          headers: headers,\r\n          signal: httpAbortCtrll.signal,\r\n        });\r\n        const responseData = response.data;\r\n\r\n        activeHttpRequests.current = activeHttpRequests.current.filter(\r\n          (reqCtrl) => reqCtrl !== httpAbortCtrll\r\n        );\r\n\r\n        setIsLoading(false);\r\n        return responseData;\r\n      } catch (err) {\r\n        setIsLoading(false);\r\n        setError(err.response.data.message || 'Something went wrong');\r\n        return {\r\n          error: err.response.data.message || 'Something went wrong',\r\n        };\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const resetError = useCallback(() => setError(null), []);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      activeHttpRequests.current.forEach((abortCtrl) => abortCtrl.abort());\r\n    };\r\n  }, []);\r\n\r\n  return { isLoading, error, sendRequest, resetError };\r\n};\r\n\r\nexport default useHttp;\r\n"],"names":["props","mapRef","useRef","center","zoom","useEffect","map","window","google","maps","Map","current","Marker","position","className","style","ref","authCtx","useContext","AuthContext","useState","showMap","setShowMap","showDelete","setShowDelete","closeMapHandler","cancelDeleteHandler","useHttp","isLoading","error","sendRequest","resetError","deletePlaceHandler","process","id","Authorization","token","response","onDeletePlace","place","Modal","show","onCancel","header","address","contentClass","footerClass","footer","Button","onClick","coordinates","danger","ErrorModal","onClear","Card","LoadingSpinner","asOverlay","src","image","alt","title","description","inverse","userId","creatorId","to","items","length","imageUrl","creator","location","useParams","places","setPlaces","then","curr","filter","children","ModalOverlay","content","headerClass","onSubmit","e","preventDefault","ReactDOM","document","querySelector","Backdrop","CSSTransition","in","mountOnEnter","unmountOnExit","timeout","classNames","setIsLoading","setError","activeHttpRequests","useCallback","url","method","data","headers","httpAbortCtrll","AbortController","push","axios","signal","responseData","reqCtrl","message","forEach","abortCtrl","abort"],"sourceRoot":""}